<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/quiz.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500&family=Satisfy&display=swap" rel="stylesheet">
    <title>TucunaQuiz</title>

</head>

<body>
    <!-- Página Início -->
    <!-- header -->
    <div class="header">
        <img src="../assets/imagens/logo.jpg" width="90px" class="logo">

        <!-- <style>
                    @font-face {
                        font-family: Heaters;
                        src: url(Heaters.otf);
                    }

                    ;
                </style> -->
        <ul class="navbar">
            <li class="agora">Sobre Você</li>
            <li><a href="#tucunaquiz">TucunaQuiz</a></li>
            <li><a href="#resultado">Resultado</a></li>
            <li id="div_olaUser" class="olaUser"></li>
        </ul>

    </div>
    <section> Que tal nos conhecermos melhor? Conte-nos sobre suas preferências e pescarias logo abaixo!
        <div class="sobrevoce">
            <div class="card">
                <h2>Modalidade</h2>
                <p>Qual sua modalidade favorita de pesca esportiva?</p>
                <select id="modalidade" required>
                    <option value="" disabled selected>Modalidade</option>
                    <option value="1">Bait Fishing</option>
                    <option value="2">Fly Fishing</option>
                </select>
                <img class="imagem" src="./assets/mod.png" />
            </div>

            <div class="card">
                <h2>Espécie</h2>
                <p>Qual sua espécie favorita de Tucunaré?</p>
                <select id="especie" required>
                    <option value="" disabled selected>Espécie</option>
                    <option value="1">Tucunaré Açu</option>
                    <option value="2">Tucunaré Borboleta</option>
                    <option value="3">Tucunaré Popoca</option>
                    <option value="4">Tucunaré Vazzoleri</option>
                    <option value="5">Tucunaré Royal</option>
                    <option value="6">Tucunaré Jari</option>
                    <option value="7">Tucunaré Azul</option>
                    <option value="8">Tucunaré Paca</option>
                    <option value="9">Tucunaré Pitanga</option>
                    <option value="10">Tucunaré Amarelo</option>
                    <option value="11">Tucunaré Fogo</option>
                    <option value="12">Tucunaré Pinima</option>
                </select>
                <img class="imagem" src="./assets/logo.jpg" />
            </div>

            <div class="card">
                <h2>Assiduidade</h2>
                <p>Quantas vezes você pesca por ano?</p>
                <select id="assiduidade" required>
                    <option value="" disabled selected>Assiduidade</option>
                    <option value="1">0-2 Vezes</option>
                    <option value="2">3-4 Vezes</option>
                    <option value="3">5-6 Vezes</option>
                    <option value="4">Mais que 7</option>
                </select>
                <img class="imagem" src="./assets/fishing time.jpg" />
            </div>

            <div class="card">
                <h2>Troféu</h2>
                <p>Qual o maior Tucuna que você já pegou?</p>
                <select id="trofeu" required>
                    <option value="" disabled selected>Troféu</option>
                    <option value="1">65UP</option>
                    <option value="2">70UP</option>
                    <option value="3">75UP</option>
                    <option value="4">80UP</option>
                    <option value="5">85UP</option>
                    <option value="6">90UP</option>
                    <option value="7">95UP</option>
                    <option value="8">Nunca peguei acima de 65cm.</option>
                </select>
                <img class="imagem" src="./assets/trofeu.png" />
            </div>
        </div>
    </section>
    <section>Agora responda algumas de conhecimento geral sobre o Tucunaré!<br><br><br>
        <div class="pergunta">
            <b>1°</b> Qual é o nome científico do tucunaré-açu?<br>
            <b>a)</b> Cichla temensis <br>
            <b>b)</b> Cichla monoculus<br>
            <b>c)</b> Cichla ocellaris <br>
            <b>d)</b> Cichla pinima <br>
            <b>e)</b> Cichla orinocensis<br><br>
            Digite a sua resposta! <input type="text" id="ipt_p1" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>2°</b> Qual é o habitat natural do tucunaré? <br>
            <b>a)</b> Rios e lagos da Amazônia <br>
            <b>b)</b> Águas salgadas do oceano <br>
            <b>c)</b> Represas e reservatórios <br>
            <b>d)</b> Manguezais costeiros <br>
            <b>e)</b> Águas geladas dos polos<br><br>
            Digite a sua resposta! <input type="text" id="ipt_p2" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>3°</b> Qual é a espécie de tucunaré mais comum no Brasil? <br>
            <b>a)</b> Tucunaré-azul <br>
            <b>b)</b> Tucunaré-amarelo <br>
            <b>c)</b> Tucunaré-paca <br>
            <b>d)</b> Tucunaré-borboleta <br>
            <b>e)</b> Tucunaré-açu<br><br>
            Digite a sua resposta! <input type="text" id="ipt_p3" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>4°</b>Qual é a técnica esportiva de pesca mais utilizada para capturar tucunarés? <br>
            <b>a)</b> Pesca de praia <br>
            <b>b)</b> Pesca de bait fishing <br>
            <b>c)</b> Pesca de arpão <br>
            <b>d)</b> Pesca de linha de mão <br>
            <b>e)</b> Pesca de fly fishing <br><br>
            Digite a sua resposta! <input type="text" id="ipt_p4" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>5°</b> Qual é o período de reprodução do tucunaré? <br>
            <b>a)</b> Primavera <br>
            <b>b)</b> Verão <br>
            <b>c)</b> Outono <br>
            <b>d)</b> Inverno <br>
            <b>e)</b> Não há um período específico<br><br>
            Digite a sua resposta! <input type="text" id="ipt_p5" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>6°</b> Qual é o tamanho médio de um tucunaré adulto? <br>
            <b>a)</b> 10-20 centímetros <br>
            <b>b)</b> 20-30 centímetros <br>
            <b>c)</b> 30-40 centímetros <br>
            <b>d)</b> 40-50 centímetros <br>
            <b>e)</b> 50-60 centímetros <br><br>
            Digite a sua resposta! <input type="text" id="ipt_p6" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>7°</b> Qual é a isca artificial mais popular para atrair tucunarés? <br>
            <b>a)</b> Minhoca <br>
            <b>b)</b> Camarão <br>
            <b>c)</b> Grilo <br>
            <b>d)</b> Plug de superfície <br>
            <b>e)</b> Massa de pão<br><br>
            Digite a sua resposta! <input type="text" id="ipt_p7" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>8°</b> Qual é a importância de soltar os tucunarés capturados durante a pesca esportiva? <br>
            <b>a)</b> Preservar o estoque de peixes para futuras gerações <br>
            <b>b)</b> Promover a pesca esportiva evitando a caça predatória <br>
            <b>c)</b> Manter o equilíbrio ecológico dos rios <br>
            <b>d)</b> Promover a renovação da população de tucunarés <br>
            <b>e)</b> Todas as alternativas estão corretas<br><br>
            Digite a sua resposta! <input type="text" id="ipt_p8" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>9°</b> Qual é o recorde mundial em centímetros para um tucunaré capturado? <br>
            <b>a)</b> 81cm <br>
            <b>b)</b> 85cm <br>
            <b>c)</b> 89cm <br>
            <b>d)</b> 93cm <br>
            <b>e)</b> 98cm<br><br>
            Digite a sua resposta! <input type="text" id="ipt_p9" class="input_respostas" maxlength="1"><br><br>
        </div>
        <div class="pergunta">
            <b>10°</b> 10. Qual é a melhor época do ano para pescar tucunarés? <br>
            <b>a)</b> Inverno-Primavera<br>
            <b>b)</b> Primavera-Verão <br>
            <b>c)</b> Verão-Outono <br>
            <b>d)</b> Outono-Inverno <br>
            <b>e)</b> Não há uma época específica <br><br>
            Digite a sua resposta! <input type="text" id="ipt_p10" class="input_respostas" maxlength="1"><br><br>
        </div>

        <a href="#div_notaQuiz"><button onclick="avaliarResultado()" class="btnResultado">Ver meu card de pescador!</button></a>
        <div id="div_notaQuiz"></div>
    </section>
</body>

</html>
<script>
    var olaUser = sessionStorage.getItem('NOME_USUARIO')
    div_olaUser.innerHTML = `Bem-Vindo(a)<br> ${olaUser}`
    function avaliarResultado() {
        var idUser = sessionStorage.getItem('ID_USUARIO')
        var p1 = ipt_p1.value;
        var p2 = ipt_p2.value;
        var p3 = ipt_p3.value;
        var p4 = ipt_p4.value;
        var p5 = ipt_p5.value;
        var p6 = ipt_p6.value;
        var p7 = ipt_p7.value;
        var p8 = ipt_p8.value;
        var p9 = ipt_p9.value;
        var p10 = ipt_p10.value;
        var notaQuiz = 0
        var fkModalidade = modalidade.value
        var fkAssiduidade = assiduidade.value
        var fkEspecie = especie.value
        var fkTrofeu = trofeu.value
        div_notaQuiz.innerHTML = ``
        if (p1.toLowerCase() == 'a') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 1, resposta certa é: <b>a</b><br>` }
        if (p2.toLowerCase() == 'a') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 2, resposta certa é: <b>a</b><br>` }
        if (p3.toLowerCase() == 'e') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 3, resposta certa é: <b>e</b><br>` }
        if (p4.toLowerCase() == 'b') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 4, resposta certa é: <b>b</b><br>` }
        if (p5.toLowerCase() == 'a') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 5, resposta certa é: <b>a</b><br>` }
        if (p6.toLowerCase() == 'e') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 6, resposta certa é: <b>e</b><br>` }
        if (p7.toLowerCase() == 'd') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 7, resposta certa é: <b>d</b><br>` }
        if (p8.toLowerCase() == 'e') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 8, resposta certa é: <b>e</b><br>` }
        if (p9.toLowerCase() == 'd') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 9, resposta certa é: <b>d</b><br>` }
        if (p10.toLowerCase() == 'b') {
            notaQuiz++
        } else { div_notaQuiz.innerHTML += `Você errou a questão 10, resposta certa é: <b>b</b><br>` }
        div_notaQuiz.innerHTML += `Sua nota final é <b>${notaQuiz}/10</b><br>`
        if (notaQuiz == 10) {
            div_notaQuiz.innerHTML += `Parabéns, tu é mais brabo que um Açu hein?! Você já está pronto pra pescar seu troféu!`
        } else if (notaQuiz >= 8) {
            div_notaQuiz.innerHTML += `Parabéns!!! Você está quase manjando tudo! Mais um pouco e estará pronto pra engatar um Açuzão!`
        } else if (notaQuiz >= 6) {
            div_notaQuiz.innerHTML += `OK! Vamos lá mais algumas pescarias e você tem chance de se surpreender!`
        } else if (notaQuiz >= 4) {
            div_notaQuiz.innerHTML += `Ih rapaz! Tu ainda vai engatar muita isca nos tocos e pescar muito peixe pau! Mas não desista, paciência e persistência são as principais características de um pescador!`
        } else if (notaQuiz >= 1) {
            div_notaQuiz.innerHTML += `Tente estudar mais sobre o Tucunaré, pois assim será mais fácil entender seu hábitos e melhorar seus resultados na pescaria!`
        } else {
            div_notaQuiz.innerHTML += `Eita! Melhor tu ir pescar lambari e tilápia nos açudes! Mas continue se aprimorando, somente com a prática você chegará lá!`
        }

        fetch("/usuarios/atualizar", {
                method: "PUT",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    fkModalidadeServer : fkModalidade,
                    fkEspecieServer : fkEspecie,
                    fkAssiduidadeServer : fkAssiduidade,
                    notaQuizServer : notaQuiz,
                    fkTrofeuServer: fkTrofeu,
                    idUserServer:idUser

                })
            }).then(function (resposta) {
                alert("Resultado enviado!")
                console.log("resposta: ", resposta);
                window.location = "";

            }).catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);

            });

    }
</script>